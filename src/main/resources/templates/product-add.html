<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">

<head th:replace="fragmentAdmin :: head"></head>

<body>
    <!-- Sidebar -->
    <div class="container-fluid">
        <div class="row">
            <nav th:replace="fragmentAdmin :: sidebar"></nav>

            <!-- Main Content -->
            <main class="ml-sm-auto col-lg-10 main-content">
                <div th:replace="fragmentAdmin :: header">
                	
                </div>

                <div class="row mt-3">
                    <h2 class="mb-3">Thêm sản phẩm</h2>
                    <div class="container">
                    	<form class="row" th:action="@{/vegetfood/admin/product/add(p=${currentPage})}" method="post" th:object="${product}" enctype="multipart/form-data">
						    <div class="col-md-3 my-2">
						        <label for="category" class="form-label">Loại sản phẩm</label>
						        <select id="category" class="form-select" th:field="*{category.id}">
						            <option th:each="c : ${categories}" 
						            		th:value="${c.id}" 
						            		th:text="${c.name}">
						            </option>
						        </select>
						    </div>
						    <div class="col-md-6 my-2">
						        <label for="name" class="form-label">Tên</label>
						        <input type="text" class="form-control" id="name" placeholder="Tên sản phẩm..." th:field="*{name}">
						    </div>
						    <div class="col-md-12 my-2">
						        <label for="description" class="form-label">Mô tả</label>
						        <textarea class="form-control" id="description" th:field="*{description}" placeholder="Mô tả..."></textarea>
						    </div>
						    <div class="row my-2">
						        <div class="col-md-3">
						            <div class="mb-3">
						                <label for="price" class="form-label">Giá</label>
						                <input type="number" class="form-control" id="price" placeholder="123456789.0" th:field="*{price}">
						            </div>
						        </div>
						        <div class="col-md-5">
						            <div class="mb-3">
						                <label for="image" class="form-label">Hình ảnh</label>
						                <input type="file" class="form-control" id="image" name="file">
						                <img style="height: 50px; width: 50px;" class="mt-2" src="" alt="" id="img">
						            </div>
						        </div>
						    </div>
						    <div class="mt-3">
						        <a th:href="@{/vegetfood/admin/product(p=${currentPage})}" class="btn btn-danger">Đóng</a>
						        <button type="submit" class="btn btn-primary mx-2">Lưu</button>
						    </div>
						</form>

                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	<script th:src="@{https://code.jquery.com/jquery-3.5.1.slim.min.js}"></script>
    <script type="text/javascript">
	    const image = document.getElementById('img')
	    const input = document.getElementById('image')
	
	    input.addEventListener("change", () => {
	        image.src=URL.createObjectURL(input.files[0])
	    })
    </script>
</body>

</html>